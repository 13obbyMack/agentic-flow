{
  "$schema": "../schemas/deployment-config.schema.json",
  "name": "premium-deployment",
  "version": "1.0.0",
  "description": "Premium quality configuration (85%+ reduction vs Claude 3.5 Sonnet). Task-optimized routing for highest quality at competitive cost.",

  "models": {
    "primary": {
      "provider": "openrouter",
      "model": "qwen/qwen-2.5-coder-32b-instruct",
      "pricing": {
        "input": 0.23,
        "output": 0.23,
        "unit": "per_million_tokens"
      },
      "capabilities": {
        "toolCalling": true,
        "jsonMode": true,
        "streaming": true,
        "contextWindow": 128000,
        "multimodal": false
      },
      "qualityScore": 92,
      "specialization": ["coding", "function_calling", "tool_use", "agentic_tasks"],
      "rateLimits": {
        "requestsPerMinute": 100,
        "tokensPerMinute": 200000
      }
    },
    "secondary": {
      "provider": "openrouter",
      "model": "meta-llama/llama-3.3-70b-instruct",
      "pricing": {
        "input": 0.10,
        "output": 0.40,
        "unit": "per_million_tokens"
      },
      "capabilities": {
        "toolCalling": true,
        "jsonMode": true,
        "streaming": true,
        "contextWindow": 128000,
        "multimodal": false
      },
      "qualityScore": 90,
      "specialization": ["general", "reasoning", "analysis", "research"],
      "rateLimits": {
        "requestsPerMinute": 100,
        "tokensPerMinute": 200000
      }
    },
    "tertiary": {
      "provider": "openrouter",
      "model": "mistralai/mistral-small-3.1",
      "pricing": {
        "input": 0.30,
        "output": 0.30,
        "unit": "per_million_tokens"
      },
      "capabilities": {
        "toolCalling": true,
        "jsonMode": true,
        "streaming": true,
        "contextWindow": 128000,
        "multimodal": false
      },
      "qualityScore": 93,
      "specialization": ["structured_output", "json_mode", "function_calling", "european_compliance"],
      "rateLimits": {
        "requestsPerMinute": 80,
        "tokensPerMinute": 150000
      }
    },
    "fallback": {
      "provider": "openrouter",
      "model": "deepseek/deepseek-chat",
      "pricing": {
        "input": 0.15,
        "output": 0.15,
        "unit": "per_million_tokens"
      },
      "capabilities": {
        "toolCalling": true,
        "jsonMode": true,
        "streaming": true,
        "contextWindow": 128000,
        "multimodal": false
      },
      "qualityScore": 88,
      "specialization": ["general", "fallback", "cost_optimization"],
      "rateLimits": {
        "requestsPerMinute": 60,
        "tokensPerMinute": 100000
      }
    }
  },
  "routing": {
    "strategy": "quality-optimized",
    "taskTypeMapping": {
      "coding": "primary",
      "code_generation": "primary",
      "code_review": "primary",
      "refactoring": "primary",
      "debugging": "primary",
      "repository_analysis": "primary",
      "function_calling": "primary",
      "tool_use": "primary",
      "general": "secondary",
      "reasoning": "secondary",
      "analysis": "secondary",
      "research": "secondary",
      "question_answering": "secondary",
      "structured_output": "tertiary",
      "json_generation": "tertiary",
      "data_extraction": "tertiary",
      "api_integration": "tertiary",
      "simple": "fallback",
      "fallback": "fallback"
    },
    "complexityRouting": {
      "simple": "fallback",
      "medium": "secondary",
      "complex": "primary",
      "expert": "primary"
    },
    "qualityThresholds": {
      "critical": "primary",
      "high": "secondary",
      "medium": "tertiary",
      "low": "fallback"
    },
    "specializedRouting": {
      "europeanDataSovereignty": "tertiary",
      "highAccuracyRequired": "primary",
      "structuredOutputRequired": "tertiary",
      "codingHeavy": "primary"
    },
    "fallbackRules": {
      "onRateLimit": true,
      "onError": true,
      "onTimeout": true,
      "onQualityFailure": true,
      "maxRetries": 5,
      "retryDelay": 3000,
      "escalateToSecondary": true,
      "escalateToTertiary": true,
      "cascadeFallback": true
    }
  },
  "monitoring": {
    "costTracking": {
      "enabled": true,
      "realTime": true,
      "monthlyBudget": 1000,
      "alertThresholds": {
        "warning": 0.70,
        "critical": 0.85
      },
      "costByModel": true,
      "costByTaskType": true,
      "costProjection": true
    },
    "performanceMetrics": {
      "enabled": true,
      "trackLatency": true,
      "trackThroughput": true,
      "trackTokenUsage": true,
      "trackQuality": true,
      "trackModelSelection": true,
      "aggregationInterval": 60000,
      "detailedMetrics": true
    },
    "errorTracking": {
      "enabled": true,
      "logErrors": true,
      "alertOnCritical": true,
      "trackErrorRates": true,
      "errorAnalytics": true,
      "rootCauseAnalysis": true
    },
    "qualityAssurance": {
      "enabled": true,
      "samplingRate": 0.20,
      "compareToBaseline": true,
      "baselineModel": "claude-3.5-sonnet",
      "qualityThreshold": 0.92,
      "continuousValidation": true,
      "a_bTesting": true
    },
    "observability": {
      "enabled": true,
      "tracing": true,
      "logging": "detailed",
      "metricsExport": true,
      "dashboards": true
    }
  },
  "optimization": {
    "caching": {
      "enabled": true,
      "ttl": 10800,
      "maxSize": 10000,
      "cacheByTaskType": true,
      "cacheByModel": true,
      "intelligentCaching": true
    },
    "promptOptimization": {
      "enabled": true,
      "minimizeTokens": false,
      "useShortPrompts": false,
      "contextCompression": true,
      "semanticCompression": true
    },
    "batchRequests": {
      "enabled": true,
      "maxBatchSize": 50,
      "batchingDelay": 50,
      "smartBatching": true
    },
    "responseCompression": {
      "enabled": true,
      "algorithm": "brotli",
      "level": 6
    },
    "loadBalancing": {
      "enabled": true,
      "strategy": "weighted-round-robin",
      "healthCheckInterval": 15000,
      "adaptiveWeights": true
    },
    "parallelExecution": {
      "enabled": true,
      "maxConcurrency": 20,
      "queueManagement": true
    }
  },
  "deployment": {
    "environment": "production",
    "region": "multi-region",
    "scaling": {
      "minAgents": 10,
      "maxAgents": 100,
      "autoScale": true,
      "scaleUpThreshold": 0.70,
      "scaleDownThreshold": 0.20,
      "cooldownPeriod": 180000,
      "predictiveScaling": true
    },
    "healthCheck": {
      "enabled": true,
      "interval": 15000,
      "timeout": 10000,
      "unhealthyThreshold": 2,
      "healthyThreshold": 2
    },
    "redundancy": {
      "enabled": true,
      "replicationFactor": 3,
      "crossRegion": true
    },
    "highAvailability": {
      "enabled": true,
      "targetUptime": 0.999,
      "failoverTime": 30000
    }
  },
  "estimatedCosts": {
    "monthly": {
      "low": 25.0,
      "typical": 75.0,
      "high": 150.0
    },
    "perRequest": {
      "simple": 0.00003,
      "medium": 0.00015,
      "complex": 0.0005
    },
    "breakdown": {
      "primary": 0.35,
      "secondary": 0.35,
      "tertiary": 0.20,
      "fallback": 0.10
    },
    "savingsVsBaseline": 0.88,
    "annualSavings": 2160.0
  },
  "compliance": {
    "dataResidency": {
      "enabled": true,
      "regions": ["eu", "us"],
      "preferredModel": "tertiary"
    },
    "auditLogging": {
      "enabled": true,
      "retention": 90,
      "compliance": ["SOC2", "GDPR"]
    }
  },
  "metadata": {
    "createdAt": "2025-10-07T00:00:00Z",
    "updatedAt": "2025-10-07T00:00:00Z",
    "author": "Claude Code SPARC-GOAP",
    "tags": [
      "premium",
      "production",
      "high-quality",
      "task-optimized",
      "88-percent-savings",
      "enterprise"
    ],
    "recommendedFor": [
      "mission-critical-production",
      "enterprise-deployments",
      "high-quality-requirements",
      "specialized-workloads",
      "multi-agent-coordination",
      "complex-agentic-tasks"
    ]
  }
}
